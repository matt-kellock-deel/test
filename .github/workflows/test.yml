name: 'Astute-ci-Build-image-run-tests'
on:
  pull_request:
    branches:
      - develop
      - master
      - "release/*"
  push:
    branches:
      - develop
      - master
      - "release/*"
  schedule:
    - cron: "0 17 * * *" # 6am AEST, which is 17:00 UTC

jobs:
  build-and-push-image:
    runs-on: ubuntu-latest
    name: 'Build and push docker image'
    defaults:
      run:
        shell: bash
    steps:
      - name: Checkout branch
        uses: actions/checkout@v4
        with:
          fetch-depth: 1
          fetch-tags: true
      - run: |
          git tag
